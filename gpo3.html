<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Comparador de Trades GPO</title>
  <style>
    :root{
      --bg:#0d0f11;
      --panel:#15171b;
      --accent:#00bcd4;
      --accent-2:#00e5ff;
      --slot:#08c6d2;
      --text:#e8f6f8;
      --green:#00ff80;
      --red:#ff4444;
      --fair:#9fbdd0;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Poppins", sans-serif;
      background:var(--bg);
      color:var(--text);
      display:flex;
      flex-direction:column;
      align-items:center;
      min-height:100vh;
      padding:18px 12px;
    }

    header{
      width:100%;
      max-width:1100px;
      text-align:center;
      margin-bottom:6px;
    }
    header h1{ margin:6px 0; color:var(--accent-2); font-size:24px; }
    .logo{ width:120px; height:auto; opacity:.95; margin:6px auto 0; }

    .trade-area{
      width:100%;
      max-width:1100px;
      display:flex;
      gap:30px;
      justify-content:center;
      align-items:flex-start;
      margin-top:18px;
      flex-wrap:wrap;
    }

    .trader{
      background:var(--panel);
      border-radius:12px;
      padding:18px;
      width:320px;
      box-shadow:0 0 18px rgba(0,188,212,0.08), 0 0 6px rgba(0,188,212,0.04) inset;
      border:2px solid rgba(0,188,212,0.04);
      text-align:center;
    }
    .trader h2{ color:var(--accent-2); margin:4px 0 8px; font-size:18px; }
    .grid{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:12px;
      justify-items:center;
      margin:10px 0 6px;
    }
    .slot{
      width:72px;
      height:72px;
      background:var(--slot);
      border-radius:10px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      color:#000;
      cursor:pointer;
      user-select:none;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
      transition: transform .12s ease, background .12s;
      text-align:center;
      padding:6px;
      font-size:14px;
    }
    .slot:hover{ transform: translateY(-4px); }
    .slot.smalltext{ font-size:12px; padding:4px; }

    .slot .sub { display:block; font-size:11px; font-weight:600; color:#001; opacity:.9; margin-top:6px; }

    .slot.selected{
      background: linear-gradient(180deg,#ffbf4d,#ffa500);
      color:#000;
    }

    .total{
      margin-top:8px;
      font-weight:700;
      color:var(--green);
    }

    .center-box{
      width:360px;
      background:var(--panel);
      border-radius:12px;
      padding:18px;
      box-shadow:0 0 18px rgba(0,188,212,0.08);
      text-align:center;
      border:2px solid rgba(0,188,212,0.04);
    }
    .center-box h3{ color:var(--accent-2); margin:0 0 8px; font-size:20px; }
    .dif{ color:var(--text); font-weight:600; font-size:16px; margin-bottom:8px; }
    .dif .status { font-weight:900; margin-left:8px; }

    /* Modal */
    .modal-bg{
      position:fixed;
      left:0;right:0;top:0;bottom:0;
      background:rgba(0,0,0,0.6);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:999;
      padding:16px;
    }
    .modal{
      width:100%;
      max-width:720px;
      max-height:80vh;
      overflow:auto;
      background:#111315;
      border-radius:10px;
      padding:18px;
      border:2px solid rgba(0,188,212,0.06);
      box-shadow:0 10px 40px rgba(0,0,0,0.6);
    }
    .modal .top{
      display:flex;
      gap:10px;
      align-items:center;
      margin-bottom:12px;
    }
    .modal input[type="search"]{
      flex:1;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.04);
      background:#0e1112;
      color:var(--text);
      outline:none;
    }
    .modal .controls{ display:flex; gap:8px; align-items:center; }
    .modal .btn{ padding:8px 10px; border-radius:8px; background:var(--accent); color:black; font-weight:700; cursor:pointer; border:none; }
    .modal .btn.secondary{ background:transparent; color:var(--accent-2); border:1px solid rgba(0,188,212,0.12); }

    .items-list{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
      gap:8px;
    }
    .item-card{
      background:#0f1314;
      border-radius:8px;
      padding:8px 10px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      cursor:pointer;
      border:1px solid rgba(255,255,255,0.02);
    }
    .item-card:hover{ background:#111417; transform: translateY(-2px); }
    .item-name{ font-size:14px; color:var(--text); font-weight:600; }
    .item-val{ font-size:13px; color:var(--accent-2); font-weight:800; }

    .small-muted{ font-size:12px; color:rgba(255,255,255,0.45); margin-top:6px; }

    @media(max-width:920px){
      .trade-area{ gap:12px; }
      .trader{ width:280px; }
      .center-box{ width:320px; margin-top:6px; }
    }
    @media(max-width:640px){
      .trader{ width:100%; max-width:360px; }
      .center-box{ width:100%; max-width:360px; }
      .trade-area{ flex-direction:column; align-items:center;}
    }
  </style>
</head>
<body>

  <header>
    <h1>Comparador de Trades GPO</h1>
    <img class="logo" src="https://via.placeholder.com/180x48?text=Logo+do+Jogo" alt="logo">
  </header>

  <main class="trade-area">
    <!-- Você dá -->
    <section class="trader" id="gridGiveContainer">
      <h2>Você dá</h2>
      <div class="grid" id="gridGive"></div>
      <div class="total" id="totalGive">Total: 0 pts</div>
      <div class="small-muted">Clique em um slot para escolher o item que você dará</div>
    </section>

    <!-- Centro -->
    <aside class="center-box">
      <h3>⚖️ Trade</h3>
      <div class="dif" id="difText">Diferença de 0 pontos</div>
      <div id="resultText" class="dif" style="font-size:15px;"></div>
    </aside>

    <!-- Você recebe -->
    <section class="trader" id="gridReceiveContainer">
      <h2>Você recebe</h2>
      <div class="grid" id="gridReceive"></div>
      <div class="total" id="totalReceive">Total: 0 pts</div>
      <div class="small-muted">Clique em um slot para escolher o item que você receberá</div>
    </section>
  </main>

  <!-- Modal: seleção de item -->
  <div class="modal-bg" id="modalBg">
    <div class="modal" role="dialog" aria-modal="true">
      <div class="top">
        <input type="search" id="search" placeholder="Pesquisar item (nome ou valor)..." />
        <div class="controls">
          <button class="btn" id="removeBtn">Remover item</button>
          <button class="btn secondary" id="closeBtn">Fechar</button>
        </div>
      </div>
      <div id="countInfo" class="small-muted"></div>
      <div class="items-list" id="itemsList"></div>
    </div>
  </div>

  <script>
    /********************************************************************
     * Lista completa de itens (texto bruto) — já inserida.
     ********************************************************************/
    const rawItems = `
Ase : 32.000
All Mythical Fruits : 21.500
Anomalized Mega Pow : 65.000
Azure Armor : 600
Azure Great Sword : 600
Baal Cape : 90
Baal Head : 1.500
Banana : 1.500
BatSwarm : 600
Bisento : 50
Black Bull : 600
Black Pitchfork : 50
Black Walk : 42.000
Blessed Cupid Bow : 2.500
Blessed Exalted Qfit : 2.000
Blessed Exalted Qwings : 22.000
Blessed Scarf : 2.750
Blessed Vanguard Fit : 400
Blo Ase : 42.000
Blo Crimson Hammer : 1.500
Blood Scythe : 200
Boneshiver : 400
Buddha : 2.800
Bunyo : 7.500
Candy Cane : 80.000
Case : 130.000
Clown Head : 1.500
Coffin Boat : 600
Coyote Outfit : 4.500
Crab Cutless : 50
Cupid Battleaxe : 100
Cupid Boat : 50
Cupid Bow : 100
Cupid Headband : 150
Cupid Scarf : 300
Cupid Vanguard Fit : 100
Cupid Wand : 150
Df Journal : 150
Domingo Cape : 90
Domingo Fit : 75
Domingo Shades : 150
Drums : 100
Droot : 10
Elo Egg : 1.200
Elo Hammer : 1.200
Exalted Qfit : 300
Exalted Qwings : 1.500
Festival Lancer : 300
Festival Shield : 500
Firework Daggers : 50
Firework Lancer : 300
Firework Rocket Launcher : 50
Flamingo Boat : 2.500
Flower Sword : 600
Flowers : 13.000
Frostspire Hood : 300
Gauntlets : 150
Gold : 100
Golden Haori : 700
Golden Hammer : 75
Golden Hook : 50
Gora : 100
Gura : 150
Gunblade : 300
Half Shround : 2.000
Hawk Fit : 300
Hawk Hat : 100
Hie : 150
Hollow Fang : 200
Hollow Gs : 75
Hollow Halberd : 150
Hoverboard : 500
Iceborn Blade : 200
Iceborn Dagger : 100
Iceborn Katana : 300
Iceborn Rapier : 200
Inferno Rocket Blade : 300
Isoh : 2.500
Ito : 80
Jester Box : 600
Jester Fit : 45.000
Jester Hat : 500
Jester Scythe : 600
Jitte : 200
Kage : 50
Karoo : 75
Kikoku : 9.500
Kira : 100
Kiwis : 0
Kk Core : 100
Kumakawa Head : 1.400
Law Cape : 25
Law Fit : 50
Law Hat : 25
Leg Chest : 500
Magu : 600
Mega Pow : 200
Megalodon Armor : 150
Megalodon Helmet : 400
Megalodon Tooth : 40
Mera : 200
Mocha : 7.000
Moria Fit : 25
Moria Hat : 25
Moria Necklace : 100
Moria Scissors : 50
Musashi Fit : 25
Musashi Hat : 25
Myth Chest : 5.000
Nightfall Shround : 5.500
Ope : 2.000
P. Bag : 88.000
P. Candy Cane : 500.000
P. Firework Daggers : 125.000
P. Firework Lancer : 300.000
P. Firework Rocket Launcher : 45.000
P. Inferno Rocket Blade : 275.000
Paw : 50
Pika : 4.500
Pipe : 150
Pole : 50
Ptero : 2.500
Qfit : 2.500
Qwings : 1.700
Radiant Cape : 200
Radiant Fit : 150
Radiant Shades : 300
Raiui : 50
Reshead : 3.000
Resurrected Baal Fit : 300
Roger Fit : 450
Roger Hat : 100
Rocky Pet : 150
Ryuma Scarf : 300
Sb Armor : 50
Sb Mask : 100
Sea Core : 200
Shusui : 100
Sk Fit : 75
Sk Hat : 150
Sk Shades : 100
Smoke : 100
Snowcar Scepter : 2.000
Soul Cane : 200
Soul Guitar : 1.800
Soul King Scarf : 27.000
Sp : 5
Spare Bag : 100
Spirit Colour : 150
Stark Guns : 1.700
Striker : 600
Sunken Anchor : 800
Sunken Armor : 150
Sunken Helmet : 2.000
Supreme Gift Box Armor : 100
Supreme Gift Box Helmet : 100
Swordfish Rapier : 4.500
Ten Tails : 1.000
Thriller Ship : 300
Toji Fit : 2.000
Token : 50
Tori : 3.500
Trident : 100
True Baal Guard : 800
Usamii Head : 800
Valk (Og) : 15.000
Venom : 4.200
Vera Whip : 50
Violin : 100
Wender : 22.000
Yami : 50
Yoru : 4.200
Yuki : 100
Yukio : 16.000
Zoranas Hat : 450
Zoranas Robe : 450
Zushi : 150
`.trim();

    // ---------- Parse the raw text into items array ----------
    function parseItems(raw){
      const lines = raw.split(/\r?\n/);
      const items = [];
      for(const ln of lines){
        if(!ln.includes(":")) continue;
        const parts = ln.split(":");
        const name = parts[0].trim();
        const rawVal = parts.slice(1).join(":").trim();
        // remove dots and spaces, replace comma with dot (if user used decimal)
        const cleaned = rawVal.replace(/\./g,"").replace(/,/g,".");
        let value = parseFloat(cleaned);
        if(Number.isNaN(value)) value = 0;
        items.push({ name, value: Math.round(value) });
      }
      return items;
    }

    const ITEMS = parseItems(rawItems);

    // helper formatador com ponto para milhares
    function formatPts(n){
      return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    }

    // ---------- UI: criar slots ----------
    const gridGive = document.getElementById('gridGive');
    const gridReceive = document.getElementById('gridReceive');
    const SLOTS_PER_SIDE = 9; // 3x3
    let activeSlot = null; // elemento selecionado no modal

    function createSlot(side, idx){
      const el = document.createElement('div');
      el.className = 'slot';
      el.dataset.side = side; // 'give' ou 'receive'
      el.dataset.idx = idx;
      el.innerHTML = '+';
      el.addEventListener('click', () => openModalForSlot(el));
      return el;
    }

    for(let i=0;i<SLOTS_PER_SIDE;i++){
      gridGive.appendChild(createSlot('give',i));
      gridReceive.appendChild(createSlot('receive',i));
    }

    // ---------- Totais e resultado ----------
    function atualizarTotais(){
      const totalGive = [...document.querySelectorAll('#gridGive .slot.selected')]
        .reduce((acc,el) => acc + (parseInt(el.dataset.value||0)),0);
      const totalReceive = [...document.querySelectorAll('#gridReceive .slot.selected')]
        .reduce((acc,el) => acc + (parseInt(el.dataset.value||0)),0);

      document.getElementById('totalGive').textContent = `Total: ${formatPts(totalGive)} pts`;
      document.getElementById('totalReceive').textContent = `Total: ${formatPts(totalReceive)} pts`;

      const lucro = totalReceive - totalGive; // positivo = você ganha
      const difEl = document.getElementById('difText');
      const resultEl = document.getElementById('resultText');

      if(lucro === 0){
        difEl.textContent = `Diferença de 0 pontos`;
        resultEl.innerHTML = `<span style="color:var(--fair)">Trade justo — Fair Trade</span>`;
      } else if(lucro > 0){
        difEl.textContent = `Você ganha ${formatPts(lucro)} pontos`;
        resultEl.innerHTML = `<span style="color:var(--green); font-weight:900">W</span>`;
      } else {
        difEl.textContent = `Você perde ${formatPts(Math.abs(lucro))} pontos`;
        resultEl.innerHTML = `<span style="color:var(--red); font-weight:900">L</span>`;
      }
    }

    // ---------- Modal logic ----------
    const modalBg = document.getElementById('modalBg');
    const itemsList = document.getElementById('itemsList');
    const searchInput = document.getElementById('search');
    const closeBtn = document.getElementById('closeBtn');
    const removeBtn = document.getElementById('removeBtn');
    const countInfo = document.getElementById('countInfo');

    function openModalForSlot(slotEl){
      activeSlot = slotEl;
      searchInput.value = '';
      renderItems(ITEMS);
      modalBg.style.display = 'flex';
      setTimeout(()=> searchInput.focus(),50);
    }

    function closeModal(){
      modalBg.style.display = 'none';
      activeSlot = null;
    }

    closeBtn.addEventListener('click', closeModal);
    modalBg.addEventListener('click', (e)=>{
      if(e.target === modalBg) closeModal();
    });

    removeBtn.addEventListener('click', ()=>{
      if(!activeSlot) return;
      delete activeSlot.dataset.value;
      delete activeSlot.dataset.name;
      activeSlot.classList.remove('selected');
      activeSlot.innerHTML = '+';
      atualizarTotais();
      closeModal();
    });

    function renderItems(list){
      itemsList.innerHTML = '';
      countInfo.textContent = `${list.length} itens`;
      if(list.length === 0){
        itemsList.innerHTML = `<div class="small-muted">Nenhum item encontrado</div>`;
        return;
      }
      for(const it of list){
        const card = document.createElement('div');
        card.className = 'item-card';
        const left = document.createElement('div');
        left.className = 'item-name';
        left.textContent = it.name;
        const right = document.createElement('div');
        right.className = 'item-val';
        right.textContent = `${formatPts(it.value)} pts`;
        card.appendChild(left);
        card.appendChild(right);
        card.addEventListener('click', ()=> selectItem(it));
        itemsList.appendChild(card);
      }
    }

    function selectItem(item){
      if(!activeSlot) return;
      activeSlot.classList.add('selected');
      activeSlot.dataset.value = item.value;
      activeSlot.dataset.name = item.name;
      const shortName = item.name.length > 12 ? item.name.slice(0,12) + "…" : item.name;
      activeSlot.innerHTML = `${shortName}<span class="sub">${formatPts(item.value)}</span>`;
      atualizarTotais();
      // fecha o modal automaticamente após selecionar
      closeModal();
    }

    // pesquisa ao digitar
    searchInput.addEventListener('input', ()=>{
      const q = searchInput.value.trim().toLowerCase();
      const tokens = q.split(/\s+/).filter(Boolean);
      const filtered = ITEMS.filter(it=>{
        if(tokens.length===0) return true;
        const nameLow = it.name.toLowerCase();
        const valStr = it.value.toString();
        return tokens.every(t => nameLow.includes(t) || valStr.includes(t));
      });
      renderItems(filtered);
    });

    // fechar modal com ESC
    document.addEventListener('keydown', (e)=>{
      if(e.key === 'Escape') closeModal();
    });

    // Inicializa totais
    atualizarTotais();

    // Expondo itens para debug no console
    window._ITEMS = ITEMS;
  </script>
</body>
</html>
<video src="/ssstik.io_@aussieanimeeditor_1761264737993.mp4"></video>